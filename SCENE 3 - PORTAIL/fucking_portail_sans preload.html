<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-size: 13px;
            font-family: Courier New;
            margin: 0; 
            display: flex; /* Use flexbox to center the content */
            justify-content: center; /* Center content horizontally */
            align-items: center; /* Center content vertically */
            height: 100vh; /* Set the body height to full viewport height */
            width: 100vw;
        }

        pre {
            position: absolute;
            top: 50%;
            left: 50%;  
            transform: translate(-50%, -50%);
        }
    </style>
 </head>
<body>
    <div id="letout">
        <pre id="portail"></pre>
        <pre id="portail_2"></pre>
    </div>

    <script type="text/javascript">
        var text_anim_1 = [
            'txt/portail 1.txt',
            'txt/portail 2.txt',
            'txt/portail 3.txt',
            'txt/portail 4.txt',
            'txt/portail 5.txt',
            'txt/portail 6.txt',
            'txt/portail 7.txt',
            'txt/portail 8.txt',
            'txt/portail 9.txt',
            'txt/portail 10.txt',
            'txt/portail 11.txt',
            'txt/portail 12.txt',
            'txt/portail 13.txt',
            'txt/portail 14.txt',
            'txt/portail 15.txt',
            'txt/portail 16.txt',
            'txt/portail 18.txt',
            'txt/portail 19.txt',
            'txt/portail 20.txt',
            'txt/portail 21.txt',
            'txt/portail 22.txt',
            'txt/portail 23.txt',
            'txt/portail 2.txt',
            'txt/portail 3.txt',
            'txt/portail 4.txt',
            'txt/portail 5.txt',
            'txt/portail 6.txt',
            'txt/portail 7.txt',
            'txt/portail 8.txt',
            'txt/portail 9.txt',
            'txt/portail 10.txt',
            'txt/portail 11.txt',
            'txt/portail 12.txt',
            'txt/portail 13.txt',
            'txt/portail 14.txt',
            'txt/portail 15.txt',
            'txt/portail 16.txt',
            'txt/portail 18.txt',
            'txt/portail 19.txt',
            'txt/portail 20.txt',
            'txt/portail 21.txt',
            'txt/portail 22.txt',
            'txt/portail 23.txt', 
        ];

        var textContents_anim_1 = [];

        var text_anim_2 = [
            'txt/portail 23.txt',
            'txt/portail 24.txt',
            'txt/portail 25.txt',
            'txt/portail 26.txt',
            'txt/portail 27.txt',
            'txt/portail 28.txt',
            'txt/portail 29.txt',
            'txt/portail 30.txt',
            'txt/portail 31.txt',
            'txt/portail 32.txt',
            'txt/portail 33.txt',
            'txt/portail 34.txt',
        ];

        var textContents_anim_2 = [];
        

    var preElement_anim = document.getElementById("portail");

    
        // Preload function for text files
        function preloadText(url, textContents) {
          return fetch(url)
            .then(response => {
              if (!response.ok) {
                throw new Error('Error while preloading text: ' + response.status);
              }
              return response.text();
            })
            .then(data => {
              textContents.push(data);
            })
            .catch(error => {
              console.error('Error while preloading text:', error);
            });
        }

        // Preload all the text files
        Promise.all([
          ...text_anim_1.map(url => preloadText(url, textContents_anim_1)),
          ...text_anim_2.map(url => preloadText(url, textContents_anim_2))
        ])
        .then(() => {
          animate_anim_1();
        })
        .catch(error => {
          console.error('Error while preloading text files:', error);
        });

function animate_anim_1() {
    var counter_anim_1 = 0;

    function animateNextFrame() {
        preElement_anim.textContent = textContents_anim_1[counter_anim_1];
        counter_anim_1++;

        if (counter_anim_1 < textContents_anim_1.length) {
            setTimeout(animateNextFrame, 50); // Set the delay to 50 milliseconds
        } else {
            animate_anim_2();
        }
    }

    animateNextFrame();
}

function animate_anim_2() {
    var counter_anim_2 = 0;

    function animateNextFrame() {
        preElement_anim.textContent = textContents_anim_2[counter_anim_2];
        counter_anim_2++;

        if (counter_anim_2 >= textContents_anim_2.length) {
            counter_anim_2 = 0;
        }

        setTimeout(animateNextFrame, 50); // Set the delay to 50 milliseconds
    }

    animateNextFrame();
}
    </script>
</body>
</html>